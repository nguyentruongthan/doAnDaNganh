<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
        <link href="/css/dangNhap.css" rel="stylesheet" type="text/css">
        <style>
            .box-area {
                width: 930px;
            }
            .right-box {
                padding: 40px 30px 40px 40px;
            }
            ::placeholder {
                font-size: 16px;
            }
        </style>
        <title>login</title>
    </head>
    <body>
        <div
            class="container d-flex justify-content-center align-items-center min-vh-100"
        >
            <!-- Login -->
            <div class="row border rounded-5 p-3 bg-white shadow box-area">
                <!-- left -->
                <div
                    class="col-md-6 rounded-4 d-flex justify-content-center align-items-center flex-column left-box"
                    style="background-color: #103cbe"
                >
                    <div class="featured-img mb-3 mt-2">
                        <img
                            src="./img/login-farming.jpg"
                            class="img-fluid"
                            style="width: 250px"
                            alt=""
                        />
                    </div>
                    <p class="text-white fs-2" style="font-weight: 600">
                        SMART FARMING
                    </p>
                    <small class="text-white text-wrap text-center"
                        >We are here to make a better future for farmers</small
                    >
                </div>

                <!-- right -->
                <div class="col-md-6 right-box">
                    <div class="row align-items-center">
                        <div class="header-text">
                            <p>Hello</p>
                            <p>We are happy to you back</p>
                        </div>
                        <div class="input-group mb-3">
                            <input
                                type="text"
                                class="form-control form-control-lg bg-light fs-6 username"
                                placeholder="Username"
                            />
                        </div>
                        <div class="input-group mb-1">
                            <input
                                type="password"
                                class="form-control form-control-lg bg-light fs-6 password"
                                placeholder="password"
                            />
                        </div>
                        <div
                            class="input-group mb-1 d-flex justify-content-between"
                        >
                            <div class="form-check">
                                <input
                                    type="checkbox"
                                    class="form-check-input"
                                    id="formCheck"
                                />
                                <label
                                    for="formCheck"
                                    class="form-check-label text-secondary"
                                    ><small>Remember me</small></label
                                >
                            </div>
                            <div class="forgot">
                                <small><a href="#!">Forgot Password?</a></small>
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <a href="/index.html"
                                ><button 
                                    class="btn btn-lg btn-primary w-100 fs-6 btnLogin"
                                >
                                    Login
                                </button></a
                            >
                        </div>
                        <div class="row">
                            <small
                                >Don't have acount<a href="#!"
                                    >Sign Up</a
                                ></small
                            >
                        </div>
                    </div>
                </div>
                <!--  -->
            </div>
        </div>
    </body>
    <script>
        const btnLogin = document.querySelector('.btnLogin');
        btnLogin.addEventListener('click', (e) => {
            e.preventDefault();
            const username = document.querySelector('.username').value;
            const password = document.querySelector('.password').value;
            console.log('login')
            console.log(username, password)
            fetch(`http://localhost:8080/api/user/login`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    'username': username,
                    'password': password,
                }),
            })
            .then(res => {
                if(res.status === 200){
                    window.location.href = '/dashBoard';
                }else{
                    alert('Login fail')
                }
            })
        })
    </script>
</html>
